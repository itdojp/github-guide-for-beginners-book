<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg" style="max-width: 100%; height: auto;">
  <defs>
    <style>
      .bg { fill: #ffffff; }
      .bg-alt { fill: #f8fafc; }
      .text { fill: #1e293b; font-family: system-ui, sans-serif; }
      .text-sm { font-size: 12px; }
      .text-md { font-size: 14px; font-weight: 500; }
      .border { stroke: #e2e8f0; fill: none; stroke-width: 1; }
      .primary { fill: #2563eb; }
      .primary-stroke { stroke: #2563eb; stroke-width: 2; }
      .success { fill: #10b981; }
      .warning { fill: #f59e0b; }
      .error { fill: #ef4444; }
      .neutral { fill: #64748b; }
    </style>
    
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="3" 
            markerWidth="6" markerHeight="6" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" class="primary"/>
    </marker>
  </defs>
  
  <rect width="100%" height="100%" class="bg"/>
  
  <title>マージの概念</title>
  <desc>ブランチのマージプロセスと異なるマージタイプの説明</desc>
  
  <!-- タイトル -->
  <text x="400" y="40" text-anchor="middle" class="text text-md">マージの概念</text>
  
  <!-- マージ前の状態 -->
  <g class="pre-merge-state">
    <text x="200" y="80" text-anchor="middle" class="text text-md">マージ前の状態</text>
    
    <!-- mainブランチ -->
    <line x1="50" y1="120" x2="200" y2="120" class="success" stroke-width="3"/>
    <text x="30" y="125" text-anchor="end" class="text text-sm success" style="font-weight: 600;">main</text>
    
    <circle cx="80" cy="120" r="5" class="success"/>
    <circle cx="120" cy="120" r="5" class="success"/>
    <circle cx="160" cy="120" r="5" class="success"/>
    
    <!-- featureブランチ -->
    <path d="M 120 120 Q 140 140 160 160 L 240 160" 
          fill="none" class="primary" stroke-width="3"/>
    <text x="30" y="165" text-anchor="end" class="text text-sm primary" style="font-weight: 600;">feature</text>
    
    <circle cx="180" cy="160" r="5" class="primary"/>
    <circle cx="220" cy="160" r="5" class="primary"/>
    
    <!-- コミット説明 -->
    <text x="80" y="105" text-anchor="middle" class="text text-sm">A</text>
    <text x="120" y="105" text-anchor="middle" class="text text-sm">B</text>
    <text x="160" y="105" text-anchor="middle" class="text text-sm">C</text>
    <text x="180" y="145" text-anchor="middle" class="text text-sm">D</text>
    <text x="220" y="145" text-anchor="middle" class="text text-sm">E</text>
  </g>
  
  <!-- マージ後の状態 -->
  <g class="post-merge-state">
    <text x="600" y="80" text-anchor="middle" class="text text-md">マージ後の状態</text>
    
    <!-- 統合されたmainブランチ -->
    <line x1="450" y1="120" x2="650" y2="120" class="success" stroke-width="3"/>
    <text x="430" y="125" text-anchor="end" class="text text-sm success" style="font-weight: 600;">main</text>
    
    <circle cx="480" cy="120" r="5" class="success"/>
    <circle cx="520" cy="120" r="5" class="success"/>
    <circle cx="560" cy="120" r="5" class="success"/>
    <circle cx="620" cy="120" r="8" class="warning"/> <!-- マージコミット -->
    
    <!-- マージされたfeatureブランチ -->
    <path d="M 520 120 Q 540 140 560 160 L 620 160" 
          fill="none" class="primary" stroke-width="3"/>
    
    <circle cx="580" cy="160" r="5" class="primary"/>
    <circle cx="620" cy="160" r="5" class="primary"/>
    
    <!-- マージ線 -->
    <line x1="620" y1="160" x2="620" y2="120" class="warning" stroke-width="2"/>
    
    <!-- コミット説明 -->
    <text x="480" y="105" text-anchor="middle" class="text text-sm">A</text>
    <text x="520" y="105" text-anchor="middle" class="text text-sm">B</text>
    <text x="560" y="105" text-anchor="middle" class="text text-sm">C</text>
    <text x="580" y="145" text-anchor="middle" class="text text-sm">D</text>
    <text x="620" y="145" text-anchor="middle" class="text text-sm">E</text>
    <text x="620" y="105" text-anchor="middle" class="text text-sm warning" style="font-weight: 600;">M</text>
  </g>
  
  <!-- マージの矢印 -->
  <line x1="280" y1="140" x2="430" y2="140" class="primary-stroke" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="355" y="135" text-anchor="middle" class="text text-sm primary" style="font-weight: 600;">MERGE</text>
  
  <!-- マージタイプ -->
  <g class="merge-types">
    <text x="400" y="240" text-anchor="middle" class="text text-md">マージのタイプ</text>
    
    <!-- Fast-forward Merge -->
    <g class="fast-forward-merge">
      <rect x="80" y="260" width="200" height="120" rx="8" class="success border" opacity="0.1"/>
      <text x="180" y="285" text-anchor="middle" class="text text-sm" style="font-weight: 600;">⚡ Fast-forward Merge</text>
      
      <!-- Before -->
      <text x="90" y="305" class="text text-sm" style="font-weight: 600;">マージ前:</text>
      <line x1="90" y1="315" x2="140" y2="315" class="success" stroke-width="2"/>
      <line x1="140" y1="315" x2="180" y2="325" class="primary" stroke-width="2"/>
      
      <!-- After -->
      <text x="90" y="345" class="text text-sm" style="font-weight: 600;">マージ後:</text>
      <line x1="90" y1="355" x2="180" y2="355" class="success" stroke-width="2"/>
      
      <text x="180" y="375" text-anchor="middle" class="text text-sm">履歴が一直線</text>
    </g>
    
    <!-- 3-way Merge -->
    <g class="three-way-merge">
      <rect x="300" y="260" width="200" height="120" rx="8" class="warning border" opacity="0.1"/>
      <text x="400" y="285" text-anchor="middle" class="text text-sm" style="font-weight: 600;">🔀 3-way Merge</text>
      
      <!-- Before -->
      <text x="310" y="305" class="text text-sm" style="font-weight: 600;">マージ前:</text>
      <line x1="310" y1="315" x2="360" y2="315" class="success" stroke-width="2"/>
      <path d="M 340 315 L 370 325 L 420 325" fill="none" class="primary" stroke-width="2"/>
      
      <!-- After -->
      <text x="310" y="345" class="text text-sm" style="font-weight: 600;">マージ後:</text>
      <line x1="310" y1="355" x2="450" y2="355" class="success" stroke-width="2"/>
      <path d="M 340 355 L 370 365 L 420 365 L 450 355" fill="none" class="primary" stroke-width="2"/>
      
      <text x="400" y="375" text-anchor="middle" class="text text-sm">マージコミット作成</text>
    </g>
    
    <!-- Squash Merge -->
    <g class="squash-merge">
      <rect x="520" y="260" width="200" height="120" rx="8" class="neutral border" opacity="0.1"/>
      <text x="620" y="285" text-anchor="middle" class="text text-sm" style="font-weight: 600;">📦 Squash Merge</text>
      
      <!-- Before -->
      <text x="530" y="305" class="text text-sm" style="font-weight: 600;">マージ前:</text>
      <line x1="530" y1="315" x2="580" y2="315" class="success" stroke-width="2"/>
      <path d="M 560 315 L 590 325 L 640 325" fill="none" class="primary" stroke-width="2"/>
      <circle cx="610" cy="325" r="2" class="primary"/>
      <circle cx="625" cy="325" r="2" class="primary"/>
      
      <!-- After -->
      <text x="530" y="345" class="text text-sm" style="font-weight: 600;">マージ後:</text>
      <line x1="530" y1="355" x2="670" y2="355" class="success" stroke-width="2"/>
      <circle cx="650" cy="355" r="3" class="success"/>
      
      <text x="620" y="375" text-anchor="middle" class="text text-sm">履歴を1つに統合</text>
    </g>
  </g>
  
  <!-- マージの利点と注意点 -->
  <g class="merge-considerations">
    <text x="400" y="420" text-anchor="middle" class="text text-md">マージの利点と注意点</text>
    
    <!-- 利点 -->
    <g class="benefits">
      <rect x="100" y="440" width="250" height="100" rx="8" class="success border" opacity="0.1"/>
      <text x="225" y="465" text-anchor="middle" class="text text-sm" style="font-weight: 600;">✅ 利点</text>
      
      <text x="110" y="485" class="text text-sm">• 変更を安全に統合</text>
      <text x="110" y="500" class="text text-sm">• ブランチの作業履歴を保持</text>
      <text x="110" y="515" class="text text-sm">• 複数人の作業を統合可能</text>
      <text x="110" y="530" class="text text-sm">• コンフリクト解決で品質向上</text>
    </g>
    
    <!-- 注意点 -->
    <g class="considerations">
      <rect x="450" y="440" width="250" height="100" rx="8" class="warning border" opacity="0.1"/>
      <text x="575" y="465" text-anchor="middle" class="text text-sm" style="font-weight: 600;">⚠️ 注意点</text>
      
      <text x="460" y="485" class="text text-sm">• コンフリクトが発生する可能性</text>
      <text x="460" y="500" class="text text-sm">• 履歴が複雑になることがある</text>
      <text x="460" y="515" class="text text-sm">• マージコミットが増える</text>
      <text x="460" y="530" class="text text-sm">• テストの重要性が増す</text>
    </g>
  </g>
  
  <!-- マージのベストプラクティス -->
  <g class="merge-best-practices">
    <rect x="50" y="560" width="700" height="30" rx="4" class="primary border" opacity="0.1"/>
    <text x="60" y="575" class="text text-sm" style="font-weight: 600;">💡 マージのベストプラクティス:</text>
    <text x="60" y="590" class="text text-sm">マージ前にテスト実行 | 小さな単位で頻繁にマージ | コンフリクトは早期解決 | マージコミットに適切な説明</text>
  </g>
</svg>