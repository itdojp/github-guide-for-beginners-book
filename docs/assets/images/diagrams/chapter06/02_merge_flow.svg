<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg" style="max-width: 100%; height: auto;">
  <defs>
    <style>
      .bg { fill: #ffffff; }
      .bg-alt { fill: #f8fafc; }
      .text { fill: #1e293b; font-family: system-ui, sans-serif; }
      .text-sm { font-size: 12px; }
      .text-md { font-size: 14px; font-weight: 500; }
      .border { stroke: #e2e8f0; fill: none; stroke-width: 1; }
      .primary { fill: #2563eb; }
      .primary-stroke { stroke: #2563eb; stroke-width: 2; }
      .success { fill: #10b981; }
      .success-stroke { stroke: #10b981; stroke-width: 2; }
      .warning { fill: #f59e0b; }
      .warning-stroke { stroke: #f59e0b; stroke-width: 2; }
      .error { fill: #ef4444; }
      .neutral { fill: #64748b; }
    </style>
    
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="3" 
            markerWidth="6" markerHeight="6" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#2563eb"/>
    </marker>
    
    <marker id="arrow-success" viewBox="0 0 10 10" refX="9" refY="3" 
            markerWidth="6" markerHeight="6" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#10b981"/>
    </marker>
  </defs>
  
  <rect width="100%" height="100%" class="bg"/>
  
  <title>マージの流れ</title>
  <desc>プルリクエストを通じたマージ操作の基本ワークフロー</desc>
  
  <!-- タイトル -->
  <text x="400" y="40" text-anchor="middle" class="text text-md">マージの流れ</text>
  
  <!-- マージワークフローの概要 -->
  <g class="merge-workflow-overview">
    <text x="400" y="75" text-anchor="middle" class="text text-md">プルリクエストによるマージワークフロー</text>
    
    <rect x="150" y="90" width="500" height="60" rx="8" class="primary border" opacity="0.1"/>
    <text x="400" y="115" text-anchor="middle" class="text text-sm" style="font-weight: 600;">🔀 レビューを経て安全にコードを統合する流れ</text>
    <text x="400" y="135" text-anchor="middle" class="text text-sm">品質保証とチーム連携を両立したマージプロセス</text>
  </g>
  
  <!-- マージプロセス図 -->
  <g class="merge-process-diagram">
    <!-- プルリクエスト作成 -->
    <g class="pr-creation">
      <rect x="50" y="180" width="120" height="80" rx="8" class="success border" opacity="0.1"/>
      <text x="110" y="210" text-anchor="middle" class="text text-sm" style="font-weight: 600;">📝 PR作成</text>
      
      <text x="60" y="230" class="text text-sm">• 変更説明</text>
      <text x="60" y="245" class="text text-sm">• レビュー依頼</text>
      <text x="60" y="260" class="text text-sm">• CI実行</text>
    </g>
    
    <!-- 矢印1 -->
    <line x1="170" y1="220" x2="210" y2="220" class="primary-stroke" marker-end="url(#arrow)"/>
    
    <!-- レビュープロセス -->
    <g class="review-process">
      <rect x="230" y="180" width="120" height="80" rx="8" class="warning border" opacity="0.1"/>
      <text x="290" y="210" text-anchor="middle" class="text text-sm" style="font-weight: 600;">👁️ レビュー</text>
      
      <text x="240" y="230" class="text text-sm">• コード確認</text>
      <text x="240" y="245" class="text text-sm">• フィードバック</text>
      <text x="240" y="260" class="text text-sm">• 承認</text>
    </g>
    
    <!-- 矢印2 -->
    <line x1="350" y1="220" x2="390" y2="220" class="primary-stroke" marker-end="url(#arrow)"/>
    
    <!-- 品質チェック -->
    <g class="quality-checks">
      <rect x="410" y="180" width="120" height="80" rx="8" class="primary border" opacity="0.1"/>
      <text x="470" y="210" text-anchor="middle" class="text text-sm" style="font-weight: 600;">✅ 品質チェック</text>
      
      <text x="420" y="230" class="text text-sm">• テスト通過</text>
      <text x="420" y="245" class="text text-sm">• 静的解析</text>
      <text x="420" y="260" class="text text-sm">• 競合確認</text>
    </g>
    
    <!-- 矢印3 -->
    <line x1="530" y1="220" x2="570" y2="220" class="primary-stroke" marker-end="url(#arrow)"/>
    
    <!-- マージ実行 -->
    <g class="merge-execution">
      <rect x="590" y="180" width="120" height="80" rx="8" class="neutral border" opacity="0.1"/>
      <text x="650" y="210" text-anchor="middle" class="text text-sm" style="font-weight: 600;">🔀 マージ実行</text>
      
      <text x="600" y="230" class="text text-sm">• 統合実行</text>
      <text x="600" y="245" class="text text-sm">• ブランチ削除</text>
      <text x="600" y="260" class="text text-sm">• 通知</text>
    </g>
  </g>
  
  <!-- マージ後の流れ -->
  <g class="post-merge-flow">
    <text x="400" y="310" text-anchor="middle" class="text text-md">マージ後の統合フロー</text>
    
    <!-- Before: 分岐状態 -->
    <g class="before-merge">
      <text x="200" y="340" text-anchor="middle" class="text text-sm" style="font-weight: 600;">マージ前</text>
      
      <!-- メインブランチ -->
      <line x1="120" y1="360" x2="280" y2="360" class="primary-stroke"/>
      <circle cx="140" cy="360" r="6" class="primary"/>
      <circle cx="180" cy="360" r="6" class="primary"/>
      <circle cx="260" cy="360" r="6" class="primary"/>
      <text x="100" y="355" class="text text-sm primary">main</text>
      
      <!-- フィーチャーブランチ -->
      <path d="M 180 360 Q 190 370 200 380" fill="none" stroke="#10b981" stroke-width="2"/>
      <line x1="200" y1="380" x2="240" y2="380" class="success-stroke"/>
      <circle cx="220" cy="380" r="5" class="success"/>
      <circle cx="240" cy="380" r="5" class="success"/>
      <text x="175" y="400" class="text text-sm success">feature</text>
    </g>
    
    <!-- 矢印 -->
    <path d="M 320 370 Q 360 370 380 370" fill="none" stroke="#2563eb" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="350" y="365" text-anchor="middle" class="text text-sm">マージ</text>
    
    <!-- After: 統合状態 -->
    <g class="after-merge">
      <text x="550" y="340" text-anchor="middle" class="text text-sm" style="font-weight: 600;">マージ後</text>
      
      <!-- 統合されたメインブランチ -->
      <line x1="450" y1="360" x2="650" y2="360" class="primary-stroke"/>
      <circle cx="470" cy="360" r="6" class="primary"/>
      <circle cx="510" cy="360" r="6" class="primary"/>
      <circle cx="590" cy="360" r="6" class="primary"/>
      <circle cx="630" cy="360" r="6" class="success"/>
      <text x="430" y="355" class="text text-sm primary">main</text>
      
      <!-- マージコミット -->
      <path d="M 510 360 Q 520 370 530 380" fill="none" stroke="#64748b" stroke-width="1" stroke-dasharray="2,2"/>
      <path d="M 570 380 Q 580 370 590 360" fill="none" stroke="#64748b" stroke-width="1" stroke-dasharray="2,2"/>
      <circle cx="530" cy="380" r="4" class="neutral"/>
      <circle cx="570" cy="380" r="4" class="neutral"/>
      <text x="550" y="400" text-anchor="middle" class="text text-sm neutral">統合履歴</text>
    </g>
  </g>
  
  <!-- マージ方法の選択 -->
  <g class="merge-method-selection">
    <text x="400" y="450" text-anchor="middle" class="text text-md">マージ方法の選択</text>
    
    <!-- Merge Commit -->
    <g class="merge-commit">
      <rect x="80" y="470" width="160" height="60" rx="8" class="primary border" opacity="0.1"/>
      <text x="160" y="495" text-anchor="middle" class="text text-sm" style="font-weight: 600;">🔀 Merge Commit</text>
      <text x="160" y="515" text-anchor="middle" class="text text-sm">履歴保持・明確な統合点</text>
    </g>
    
    <!-- Squash and Merge -->
    <g class="squash-merge">
      <rect x="260" y="470" width="160" height="60" rx="8" class="success border" opacity="0.1"/>
      <text x="340" y="495" text-anchor="middle" class="text text-sm" style="font-weight: 600;">📦 Squash Merge</text>
      <text x="340" y="515" text-anchor="middle" class="text text-sm">履歴圧縮・単一コミット</text>
    </g>
    
    <!-- Rebase and Merge -->
    <g class="rebase-merge">
      <rect x="440" y="470" width="160" height="60" rx="8" class="warning border" opacity="0.1"/>
      <text x="520" y="495" text-anchor="middle" class="text text-sm" style="font-weight: 600;">🔄 Rebase Merge</text>
      <text x="520" y="515" text-anchor="middle" class="text text-sm">線形履歴・クリーンな流れ</text>
    </g>
  </g>
  
  <!-- マージチェックリスト -->
  <g class="merge-checklist">
    <rect x="50" y="550" width="700" height="40" rx="4" class="bg-alt border"/>
    <text x="60" y="570" class="text text-sm" style="font-weight: 600;">✅ マージ前チェックリスト:</text>
    <text x="60" y="585" class="text text-sm">レビュー承認済み | テスト通過 | 競合解決済み | ドキュメント更新 | デプロイ準備完了</text>
  </g>
</svg>