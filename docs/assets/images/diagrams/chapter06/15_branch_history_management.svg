<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg" style="max-width: 100%; height: auto;">
  <defs>
    <style>
      .bg { fill: var(--svg-bg); }
      .bg-alt { fill: var(--svg-bg-alt); }
      .text { fill: var(--svg-text); font-family: system-ui, sans-serif; }
      .text-sm { font-size: 12px; }
      .text-md { font-size: 14px; font-weight: 500; }
      .border { stroke: var(--svg-border); fill: none; stroke-width: 1; }
      .primary { fill: var(--svg-primary); }
      .primary-stroke { stroke: var(--svg-primary); stroke-width: 2; }
      .success { fill: var(--svg-success); }
      .success-stroke { stroke: var(--svg-success); stroke-width: 2; }
      .warning { fill: var(--svg-warning); }
      .warning-stroke { stroke: var(--svg-warning); stroke-width: 2; }
      .error { fill: var(--svg-error); }
      .neutral { fill: var(--svg-neutral); }
    </style>
    
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="3" 
            markerWidth="6" markerHeight="6" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" class="primary"/>
    </marker>
  </defs>
  
  <rect width="100%" height="100%" class="bg"/>
  
  <title>ブランチ履歴管理</title>
  <desc>ブランチの履歴を整理・管理するための手法とベストプラクティス</desc>
  
  <!-- タイトル -->
  <text x="400" y="40" text-anchor="middle" class="text text-md">ブランチ履歴管理</text>
  
  <!-- 履歴管理の重要性 -->
  <g class="history-management-importance">
    <text x="400" y="75" text-anchor="middle" class="text text-md">なぜ履歴管理が重要か</text>
    
    <rect x="150" y="90" width="500" height="60" rx="8" class="warning border" opacity="0.1"/>
    <text x="400" y="115" text-anchor="middle" class="text text-sm" style="font-weight: 600;">📚 プロジェクトの成長と共に複雑化する変更履歴</text>
    <text x="400" y="135" text-anchor="middle" class="text text-sm">適切な管理でデバッグ・レビュー・メンテナンスが効率化</text>
  </g>
  
  <!-- 履歴の問題と解決策 -->
  <g class="history-problems-solutions">
    <text x="400" y="180" text-anchor="middle" class="text text-md">よくある履歴の問題と解決策</text>
    
    <!-- 問題1: 汚い履歴 -->
    <g class="messy-history">
      <rect x="50" y="200" width="160" height="120" rx="8" class="error border" opacity="0.1"/>
      <text x="130" y="225" text-anchor="middle" class="text text-sm" style="font-weight: 600;">😖 汚い履歴</text>
      
      <text x="60" y="245" class="text text-sm" style="font-weight: 600;">問題:</text>
      <text x="60" y="260" class="text text-sm">• 意味不明なコミット</text>
      <text x="60" y="275" class="text text-sm">• Typo修正の連続</text>
      <text x="60" y="290" class="text text-sm">• WIP コミット残存</text>
      
      <text x="60" y="310" class="text text-sm" style="font-weight: 600;">影響:</text>
      <text x="60" y="325" class="text text-sm">追跡困難、レビュー困難</text>
    </g>
    
    <!-- 矢印 -->
    <line x1="210" y1="260" x2="230" y2="260" class="primary-stroke" marker-end="url(#arrow)"/>
    
    <!-- 解決策1: Interactive Rebase -->
    <g class="interactive-rebase">
      <rect x="250" y="200" width="160" height="120" rx="8" class="success border" opacity="0.1"/>
      <text x="330" y="225" text-anchor="middle" class="text text-sm" style="font-weight: 600;">🔧 Interactive Rebase</text>
      
      <text x="260" y="245" class="text text-sm" style="font-weight: 600;">機能:</text>
      <text x="260" y="260" class="text text-sm">• コミット並び替え</text>
      <text x="260" y="275" class="text text-sm">• メッセージ編集</text>
      <text x="260" y="290" class="text text-sm">• コミット統合</text>
      
      <rect x="260" y="300" width="140" height="15" rx="2" class="bg-alt border"/>
      <text x="265" y="312" class="text text-sm" style="font-family: monospace;">git rebase -i HEAD~3</text>
    </g>
    
    <!-- 問題2: 複雑な分岐 -->
    <g class="complex-branching">
      <rect x="430" y="200" width="160" height="120" rx="8" class="error border" opacity="0.1"/>
      <text x="510" y="225" text-anchor="middle" class="text text-sm" style="font-weight: 600;">🕸️ 複雑な分岐</text>
      
      <text x="440" y="245" class="text text-sm" style="font-weight: 600;">問題:</text>
      <text x="440" y="260" class="text text-sm">• 多重ブランチ</text>
      <text x="440" y="275" class="text text-sm">• 頻繁なマージ</text>
      <text x="440" y="290" class="text text-sm">• グラフが複雑</text>
      
      <text x="440" y="310" class="text text-sm" style="font-weight: 600;">影響:</text>
      <text x="440" y="325" class="text text-sm">視覚的な把握困難</text>
    </g>
    
    <!-- 矢印 -->
    <line x1="590" y1="260" x2="610" y2="260" class="primary-stroke" marker-end="url(#arrow)"/>
    
    <!-- 解決策2: ブランチ戦略 -->
    <g class="branch-strategy">
      <rect x="630" y="200" width="160" height="120" rx="8" class="success border" opacity="0.1"/>
      <text x="710" y="225" text-anchor="middle" class="text text-sm" style="font-weight: 600;">📋 ブランチ戦略</text>
      
      <text x="640" y="245" class="text text-sm" style="font-weight: 600;">ルール:</text>
      <text x="640" y="260" class="text text-sm">• 明確な命名規則</text>
      <text x="640" y="275" class="text text-sm">• 短命ブランチ</text>
      <text x="640" y="290" class="text text-sm">• 統一フロー</text>
      
      <text x="640" y="310" class="text text-sm" style="font-weight: 600;">効果:</text>
      <text x="640" y="325" class="text text-sm">予測可能な履歴</text>
    </g>
  </g>
  
  <!-- 履歴整理の実践 -->
  <g class="history-cleanup-practice">
    <text x="400" y="365" text-anchor="middle" class="text text-md">履歴整理の実践手順</text>
    
    <rect x="80" y="385" width="640" height="140" rx="8" class="bg-alt border"/>
    
    <!-- ステップ1: 現状把握 -->
    <g class="step-1-assess">
      <rect x="100" y="405" width="140" height="80" rx="8" class="primary border" opacity="0.1"/>
      <text x="170" y="425" text-anchor="middle" class="text text-sm" style="font-weight: 600;">1️⃣ 現状把握</text>
      
      <rect x="110" y="440" width="120" height="15" rx="2" class="bg-alt border"/>
      <text x="115" y="452" class="text text-sm" style="font-family: monospace;">git log --oneline</text>
      
      <rect x="110" y="460" width="120" height="15" rx="2" class="bg-alt border"/>
      <text x="115" y="472" class="text text-sm" style="font-family: monospace;">git log --graph</text>
    </g>
    
    <!-- 矢印 -->
    <line x1="240" y1="445" x2="260" y2="445" class="primary-stroke" marker-end="url(#arrow)"/>
    
    <!-- ステップ2: 計画立案 -->
    <g class="step-2-plan">
      <rect x="280" y="405" width="140" height="80" rx="8" class="warning border" opacity="0.1"/>
      <text x="350" y="425" text-anchor="middle" class="text text-sm" style="font-weight: 600;">2️⃣ 計画立案</text>
      
      <text x="290" y="445" class="text text-sm">• 統合するコミット</text>
      <text x="290" y="460" class="text text-sm">• 編集するメッセージ</text>
      <text x="290" y="475" class="text text-sm">• 削除する履歴</text>
    </g>
    
    <!-- 矢印 -->
    <line x1="420" y1="445" x2="440" y2="445" class="primary-stroke" marker-end="url(#arrow)"/>
    
    <!-- ステップ3: 実行 -->
    <g class="step-3-execute">
      <rect x="460" y="405" width="140" height="80" rx="8" class="success border" opacity="0.1"/>
      <text x="530" y="425" text-anchor="middle" class="text text-sm" style="font-weight: 600;">3️⃣ 実行</text>
      
      <rect x="470" y="440" width="120" height="15" rx="2" class="bg-alt border"/>
      <text x="475" y="452" class="text text-sm" style="font-family: monospace;">git rebase -i</text>
      
      <rect x="470" y="460" width="120" height="15" rx="2" class="bg-alt border"/>
      <text x="475" y="472" class="text text-sm" style="font-family: monospace;">git commit --amend</text>
    </g>
    
    <!-- ステップ4: 検証 -->
    <g class="step-4-verify">
      <rect x="620" y="405" width="80" height="80" rx="8" class="neutral border" opacity="0.1"/>
      <text x="660" y="425" text-anchor="middle" class="text text-sm" style="font-weight: 600;">4️⃣ 検証</text>
      
      <text x="630" y="445" class="text text-sm">テスト</text>
      <text x="630" y="460" class="text text-sm">動作確認</text>
      <text x="630" y="475" class="text text-sm">履歴確認</text>
    </g>
    
    <!-- 注意事項 -->
    <g class="caution">
      <rect x="100" y="495" width="600" height="25" rx="4" class="error border" opacity="0.1"/>
      <text x="110" y="513" class="text text-sm" style="font-weight: 600;">⚠️ 注意:</text>
      <text x="160" y="513" class="text text-sm">プッシュ済みコミットの履歴変更は危険！チームメンバーとの合意が必要</text>
    </g>
  </g>
  
  <!-- ベストプラクティス -->
  <g class="best-practices">
    <text x="400" y="555" text-anchor="middle" class="text text-md">履歴管理のベストプラクティス</text>
    
    <rect x="50" y="570" width="700" height="25" rx="4" class="success border" opacity="0.1"/>
    <text x="60" y="588" class="text text-sm" style="font-weight: 600;">💡 推奨:</text>
    <text x="120" y="588" class="text text-sm">明確なコミットメッセージ | 論理的な単位でコミット | プッシュ前に履歴整理 | チーム規約に従う</text>
  </g>
</svg>